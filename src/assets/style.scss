@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap');

:root {
  --h-height: 65px;
  --f-height: 310px;
}

$main-font: "Manrope";
$title-font: "Bebas";
$red: #CC0000;
$bright-red: #E4170F;
$white: #FFFFFF;
$black: #1F1F1F;
$light-gray: #F3F3F3;
$gray: #CCCCCC;
$dark-gray: #8F8F8F;
$pale-blue: #CFD9E8;
$blue: #91A6C5;
$transition: 300ms linear;
$radius: .5em;
$bp-xs: 575px;
$bp-sm: 767px;
$bp-md: 991px;
$bp-lg: 1199px;
$bp-xl: 1399px;
$bp-xxl: 1605px;


/* mixins */
@mixin flex($dir, $x, $y, $wrap) {
  display: flex;
  flex-direction: $dir;
  justify-content: $x;
  align-items: $y;
  flex-wrap: $wrap;
}
@mixin no-appearance {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  -ms-appearance: none;
  outline: none;
}
@mixin safariFix {
  -webkit-backface-visibility: hidden;
  -webkit-transform: translate3d(0, 0, 0);
  isolation: isolate;
  transform: translateZ(0);
}
@mixin absBG {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
  z-index: 1;
}
@mixin clamp($count, $line, $strict: false) {
  display: -webkit-box;
  -webkit-line-clamp: $count;
  -webkit-box-orient: vertical;
  overflow: hidden;
  line-height: $line;
  @if $strict {
    height: $line * $count;
  } @else {
    max-height: $line * $count;
  }
}
@mixin list {
  list-style: none;
  padding-left: 0px;
}
@mixin shadow {
  box-shadow: 0px 4px 30px rgba(0, 0, 0, 0.05);
}
@mixin shadow2 {
  box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.05);
}
@mixin shadowColored($color, $alpha) {
  box-shadow: 0px 0px 5px rgba($color, $alpha);
}

/* Typography */
a, a:hover, a:focus, a:active {
  color: inherit;
  outline: none;
  text-decoration: none;
  cursor: pointer;
}
h1, h2, h3, h4, h5, h6, p, label, span, a, button, form, fieldset, legend, select, input, textarea, button, div, blockquote, cite, figure, figcaption, table, ul, ol, dl, address {
  line-height: 130%;
  margin-bottom: 0px;
}

h1, .h1 {
  font-family: $title-font;
  font-size: 6em;
  text-align: center;
  line-height: 100%;
  margin-bottom: .5em;
}
h2 {
  font-size: 2.4em;
  font-weight: 700;
  text-align: left;
  margin-bottom: .8em;
  &.h1 {
    text-align: left;
    font-size: 3.25em;
  }
}
h3 {
  font-size: 1.8em;
  font-weight: 700;
  text-align: left;
  margin-bottom: 1em;
}
h4 {
  font-size: 1.4em;
  font-weight: 500;
  text-align: left;
  margin-bottom: .5em;
}
h5 {
  font-size: 1.2em;
  font-weight: 400;
  text-align: left;
}
h6 {
  font-size: 1em;
  font-weight: 500;
  text-align: left;
}
.fs {
  &-08 {font-size: 0.8em;}
  &-09 {font-size: 0.9em;}
  &-10 {font-size: 1em;}
  &-11 {font-size: 1.1em;}
  &-12 {font-size: 1.2em;}
  &-13 {font-size: 1.3em;}
  &-14 {font-size: 1.4em;}
  &-15 {font-size: 1.5em;}
  &-16 {font-size: 1.6em;}
  &-17 {font-size: 1.7em;}
  &-18 {font-size: 1.8em;}
  &-19 {font-size: 1.9em;}
  &-20 {font-size: 2em;}
  &-25 {font-size: 2.5em;}
  &-30 {font-size: 3em;}
  &-35 {font-size: 3.5em;}
  &-40 {font-size: 4em;}
}
.fw {
  &-3 {font-weight: 300;}
  &-4 {font-weight: 400;}
  &-5 {font-weight: 500;}
  &-6 {font-weight: 600;}
  &-7 {font-weight: 700;}
  &-8 {font-weight: 800;}
  &-9 {font-weight: 900;}
}
.gray {color: $gray;}
.link {
  color: inherit;
  transition: $transition;
  &:hover, &:focus {
    color: $red;
  }
  &:active {
    color: $bright-red;
  }
}

/* Form elements */
input, textarea {
  background: $white;
  border: 1px solid $gray;
  border-radius: $radius;
  padding: 0.5em 1em;
  width: 100%;
  outline: none;
  display: block;
  transition: $transition;
  &:-moz-placeholder, &::-moz-placeholder,
  &::-webkit-input-placeholder, &:-ms-input-placeholder, &::-ms-input-placeholder {
    color: $light-gray;
    font-weight: 400;
  }
  &::placeholder {
    color: $light-gray;
    font-weight: 400;
  }
}
label {
  @include flex(row, flex-start, center, nowrap);
  span {
    flex:1;
    margin-left: .6em;
  }
}

button {
  background: none;
  border: none;
  padding: unset;
  display: block;
  font-family: inherit;
  outline: none;
  color: inherit;
}
.btn {
  @include flex(row, center, center, nowrap);
  padding: .55em 1em;
  text-align: center;
  transition: $transition;
  width: fit-content;
  font-weight: 400;
  border-radius: $radius;
  &-1 {
    @extend .btn;
    color: $white;
    background: $red;
    &:hover, &:focus {
      color: $white;
      background: $bright-red;
    }
    &:active {
      color: $white;
      background: $bright-red;
      @include shadowColored($bright-red, .75);
    }
  }
  &-2 {
    @extend .btn;
    color: $white;
    background: $black;
    &:hover, &:focus {
      color: $white;
      background: $red;
    }
    &:active {
      color: $white;
      background: $bright-red;
    }
  }
}

.flex-1 {flex:1;}
.mb-custom {
  margin-bottom: 7em;
  @media (max-width: $bp-lg) {
    margin-bottom: 6em;
  }
}
@media (min-width: 1606px) {
  .container {
    max-width: 1526px;
  }
} 


body {
  margin: 0;
  font-family: $main-font;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-size: 20px;
  font-weight: 400;
  color: $black;
  overflow-x: hidden;
  @media (max-width: $bp-xxl) {
    font-size: 18px;
  }
  @media (max-width: $bp-lg) {
    font-size: 16px;
  }
}

header {
  @include shadow();
  background-color: #fff;
  height: var(--h-height);
  ul {
    li {
      &:not(:first-child){margin-left: 2.5em;}
      a {
        font-size: 1em;
        font-weight: 500;
        transition: $transition;
        &:hover, &:focus, &.active {
          color: $red;
        }
        &:active {
          color: $bright-red;
        }
      }
    }
  }
}
form.search {
  @include flex(row, center, stretch, nowrap);
  input {
    width: 220px;
    padding: 0.4em 0.4em 0.4em 1em;
    border-radius: $radius 0px 0px $radius;
  }
  button {
    padding: 0.5em 1em;
    border-radius: 0px $radius $radius 0px;
    svg {
      font-size: 1.2em;
      margin-left: 0.3em;
    }
  }
}

main {
  min-height: calc(100vh - var(--h-height) - var(--f-height));
  padding: 2em 0;
}

/* Section 1 */
.sec-1 {
  margin-bottom: -6em;
  position: relative;
  z-index: 2;
}

/* Section 2 */
.sec-2 {
  position: relative;
  z-index: 1;
  background-color: $black;
  color: $white;
  margin: 10% 0;
  .container {
    position: relative;
    @include flex(row, space-between, stretch, nowrap);
    &::before {
      content: '';
      position: absolute;
      top: -15%;
      left: 50%;
      height: 140%;
      width: 50%;
      transform: translateX(-46%);
      border-radius: 50%;
      background: linear-gradient(180deg, rgb(207 217 232 / 8%) 75%, rgba(0, 0, 0, 0.65) 100%);
      filter: blur(30px);
    }
    &>div {
      padding: 3em 0;
      @include flex(column, space-between, stretch, nowrap);
      @media (max-width: $bp-lg) {
        padding: 2em 0;
      }
      &.left {width: 26%;}
      &.right {width: 22%;}
      h4 {
        --w: 25%;
        --tr: 50%;
        position: relative;
        width: 100%;
        &::before {
          content: '';
          position: absolute;
          top: 50%;
          right: 0px;
          height: 1px;
          width: var(--w);
          background-color: $white;
        }
        &::after {
          content: '';
          position: absolute;
          top: 50%;
          right: 0px;
          height: .7em;
          width: .7em;
          border: 1px solid $white;
          border-radius: 50%;
          transform: translate(var(--tr), -50%);
        }
        &.title-1 {
          --w: 33%;
          @media (max-width: $bp-xl) {
            --w: 23%;
          }
        }
        &.title-2 {
          --w: 10%;
          @media (max-width: $bp-xl) {
            --w: 25%;
          }
        }
        &.title-3 {
          --w: 19%;
          --tr: -50%;
          @media (max-width: $bp-xl) {
            --w: 8%;
          }
          &::before, &::after {
            right: unset;
            left: 0px;
          }
        }
        &.title-4 {
          --w: 10%;
          --tr: -50%;
          @media (max-width: $bp-xl) {
            --w: 35%;
          }
          &::before, &::after {
            right: unset;
            left: 0px;
          }
        }
      }
    }
    .engine {
      width: 28%;
      display: block;
      transform: scale(1.75) translateY(-5%);
    }
  }
}

/* Section 3 */
figure.category {
  position: relative;
  img {
    width: 100%;
    height: 310px;
    object-fit: cover;
    border-radius: $radius;
    margin-bottom: .5em;
    @media (max-width: $bp-xxl) {
      height: 280px;
    }
    @media (max-width: $bp-xl) {
      height: 240px;
    }
    @media (max-width: $bp-xl) {
      height: 200px;
    }
    &.big {
      height: 650px;
      object-fit: scale-down;
      background: radial-gradient(53.7% 53.7% at 50.14% 46.3%, $pale-blue 0%, $blue 100%);
      @media (max-width: $bp-xxl) {
        height: 580px;
      }
      @media (max-width: $bp-xl) {
        height: 500px;
      }
      @media (max-width: $bp-lg) {
        height: 410px;
      }
    }
    &.bigger {
      height: 705px;
      @media (max-width: $bp-xxl) {
        height: 640px;
      }
      @media (max-width: $bp-xl) {
        height: 560px;
      }
      @media (max-width: $bp-lg) {
        height: 474px;
      }
    }
  }
}

/* Section 4 */
.offer {
  figure {
    position: relative;
    --h1: 150px;
    --h2: 200px;
    @media (max-width: $bp-xxl) {
      --h1: 140px;
      --h2: 180px;
    }
    @media (max-width: $bp-xl) {
      --h1: 120px;
      --h2: 160px;
    }
    @media (max-width: $bp-lg) {
      --h1: 100px;
      --h2: 140px;
    }
    &::before {
      content: '';
      @include absBG();
      top: var(--h1);
      height: var(--h2);
      background-color: $pale-blue;
      border-radius: $radius;
    }
    img {
      width: 100%;
      height: calc(var(--h1) + var(--h2));
      object-fit: scale-down;
      position: relative;
      z-index: 10;
      margin-bottom: 0.75em;
      padding: 1em;
    }
    h5 {
      @include clamp(3, 1.3em, $strict: true);
    }
  }
  h4 {
    font-weight: 700;
    color: $red;
    margin-bottom: 0px;
  }
  h6 {
    color: $gray;
    text-decoration: line-through;
  }
}

/* Section 5 */
.sec-5 {
  background-color: $black;
  color: $white;
  padding: 2em;
  border-radius: $radius;
  margin-top: 15%;
  img {
    display: block;
    max-width: 80%;
    margin: -31% auto 0;
    @media (max-width: $bp-xl) {
      max-width: 90%;
      margin: -20% auto 0;
    }
    @media (max-width: $bp-lg) {
      margin: -17% auto 0;
    }
  }
}

/* Section 6 */
.news-list {
  @include list();
  @include flex(row, flex-start, stretch, nowrap);
  --w: 377px;
  @media (max-width: $bp-xxl) {
    --w: 340px;
  }
  @media (max-width: $bp-xl) {
    --w: 285px;
  }
  @media (max-width: $bp-lg) {
    --w: 250px;
  }
  li {
    &:not(:last-child){
      margin-right: 2em;
      @media (max-width: $bp-xxl) {
        margin-right: 1em;
      }
    }
    article {
      width: var(--w);
      figure {
        img {
          width: 100%;
          height: var(--w);
          object-fit: cover;
          border-radius: $radius;
          margin-bottom: 1em;
        }
        h5 {
          @include clamp(2, 1.3em, $strict: true);
        }
      }
    }
    button {
      background-color: $blue;
      color: $white;
      border-radius: $radius;
      width: 100%;
      height: var(--w);
      font-size: 1.2em;
      font-weight: 500;
    }
  }
}

/* Section 7 */
.sec-7 {
  .video-wrap {
    width: 100%;
    height: 400px;
    border-radius: $radius;
    overflow: hidden;
    @include safariFix();
    position: relative;
    @media (max-width: $bp-xxl) {
      height: 350px;
    }
    @media (max-width: $bp-xl) {
      height: 300px;
    }
    @media (max-width: $bp-lg) {
      height: 250px;
    }
    iframe, video {
      width: 100%;
      height: 100%;
      position: relative;
      z-index: 1;
    }
    &::after {
      content: '';
      @include absBG();
      z-index: 10;
      backdrop-filter: blur(1px) brightness(.75);
      background: url(imgs/play.png) no-repeat center center;
      background-size: 4em;
    }
  }
}

footer {
  background-color: $black;
  color: $white;
  height: var(--f-height);
  padding: 1em 0;
  @include flex(column, center, center, nowrap);
  ul {
    @include list();
    li {
      &:not(:last-child){margin-bottom: .75em;}
      a {
        font-size: .8em;
        font-weight: 500;
        transition: $transition;
        text-decoration: underline;
        text-decoration-thickness: 1px;
        &:hover, &:focus, &:active {
          color: $red;
          text-decoration: underline;
          text-decoration-thickness: 1px;
        }
      }
    }
  }
  .dev-link {
    @include flex(row, center, center, nowrap);
    width: fit-content;
    color: $white;
    margin-left: auto;
    font-size: .8em;
    font-weight: 500;
    svg {
      font-size: 1.2em;
      margin-left: .25em;
    }
  }
}

.desktop-fixed {
  position: fixed;
  top: 50%;
  right: 0px;
  z-index: 100;
  background: $light-gray;
  @include shadow2();
  border-radius: $radius 0px 0px $radius;
  padding: .25em .5em;
  transform: translateY(-50%);
  ul {
    @include list();
    @include flex(column, center, stretch, nowrap);
    li {
      &:not(:first-child){
        border-top: 1px solid $gray;
      }
      a {
        @include flex(row, center, center, nowrap);
        padding: .4em .2em;
        position: relative;
        transition: $transition;
        svg {
          position: relative;
          z-index: 1;
          font-size: 1.6em;
          path {stroke-width: 1.5px;}
        }
        .count {
          position: absolute;
          z-index: 10;
          top: 13%;
          left: 56%;
          transform: translateX(-50%);
          background-color: $bright-red;
          color: $white;
          font-size: .5em;
          width: 1.6em;
          height: 1.6em;
          border-radius: 50%;
          @include flex(row, center, center, nowrap);
        }
        &:hover, &:focus {
          color: $red;
        }
        &:active {
          color: $bright-red;
        }
      }
    }
  }
}